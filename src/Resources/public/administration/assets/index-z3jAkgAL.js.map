{"version":3,"file":"index-z3jAkgAL.js","sources":["../../../app/administration/src/module/sw-order/page/sw-order-detail/sw-order-detail.html.twig","../../../app/administration/src/module/sw-order/page/sw-order-detail/index.js"],"sourcesContent":["{% block sw_order_detail_content_tabs_extension %}\n    {% parent() %}\n\n    {% block sw_order_detail_content_tabs_payone %}\n        <sw-tabs-item\n            v-if=\"canAccessPayoneTab()\"\n            class=\"sw-order-detail__tabs-tab-payone\"\n            :route=\"{ name: 'sw.order.detail.payone', params: { id: $route.params.id } }\"\n            :title=\"$t('sw-order.detail.payone')\"\n        >\n            {{ $t('sw-order.detail.payone') }}\n        </sw-tabs-item>\n    {% endblock %}\n{% endblock %}","import template from './sw-order-detail.html.twig';\n\nexport default {\n    template,\n\n    inject: ['acl'],\n\n    methods: {\n        hasPayoneTransaction(order) {\n            let isPayone = false;\n            let me = this;\n\n            if (!order.transactions) {\n                return false;\n            }\n\n            order.transactions.map(function (transaction) {\n                if (me.isPayoneTransaction(transaction) && me.isActiveTransaction(transaction)) {\n                    isPayone = true;\n                }\n            });\n\n            return isPayone;\n        },\n\n        isPayoneTransaction(transaction) {\n            if (!transaction.extensions || !transaction.extensions.payonePaymentOrderTransactionData || !transaction.extensions.payonePaymentOrderTransactionData.transactionId) {\n                return false;\n            }\n\n            return transaction.extensions.payonePaymentOrderTransactionData.transactionId;\n        },\n\n        isActiveTransaction(transaction) {\n            return transaction.stateMachineState.technicalName !== 'cancelled';\n        },\n\n        canAccessPayoneTab() {\n            return (this.acl.can('payone_order_management')\n                || this.acl.can('payone_payment_order_action_log:read')\n                || this.acl.can('payone_payment_notification_forward:read')\n                || this.acl.can('payone_payment_webhook_log:read'))\n            && this.order && this.hasPayoneTransaction(this.order);\n        }\n    }\n};\n"],"names":["template","index","order","isPayone","me","transaction"],"mappings":"AAAA,MAAAA,EAAe,8YCEfC,EAAe,CACX,SAAAD,EAEA,OAAQ,CAAC,KAAK,EAEd,QAAS,CACL,qBAAqBE,EAAO,CACxB,IAAIC,EAAW,GACXC,EAAK,KAET,OAAKF,EAAM,cAIXA,EAAM,aAAa,IAAI,SAAUG,EAAa,CACtCD,EAAG,oBAAoBC,CAAW,GAAKD,EAAG,oBAAoBC,CAAW,IACzEF,EAAW,GAE/B,CAAa,EAEMA,GATI,EAUvB,EAEQ,oBAAoBE,EAAa,CAC7B,MAAI,CAACA,EAAY,YAAc,CAACA,EAAY,WAAW,mCAAqC,CAACA,EAAY,WAAW,kCAAkC,cAC3I,GAGJA,EAAY,WAAW,kCAAkC,aAC5E,EAEQ,oBAAoBA,EAAa,CAC7B,OAAOA,EAAY,kBAAkB,gBAAkB,WACnE,EAEQ,oBAAqB,CACjB,OAAQ,KAAK,IAAI,IAAI,yBAAyB,GACvC,KAAK,IAAI,IAAI,sCAAsC,GACnD,KAAK,IAAI,IAAI,0CAA0C,GACvD,KAAK,IAAI,IAAI,iCAAiC,IAClD,KAAK,OAAS,KAAK,qBAAqB,KAAK,KAAK,CACjE,CACA,CACA"}