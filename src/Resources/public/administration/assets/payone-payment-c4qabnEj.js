const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BTrSYjkY.js","assets/index-B6sQ0EGO.css","assets/index-C342mQzj.js","assets/index-fjVWfop_.css","assets/index-DvIOCrYt.js","assets/index-Bet9BGQj.css","assets/index-BLVpOUYz.js","assets/index-B8NwrOeQ.css","assets/index-CPA72YU3.js","assets/index-BCNIzRwh.css","assets/index-BnzQa17P.js","assets/index-BH3t_MMG.css","assets/index-1x2Zhiwi.js","assets/index-CG356GgQ.css","assets/index-DFvC7jUc.js","assets/index-DwnVe5aj.css"])))=>i.map(i=>d[i]);
const b="modulepreload",S=function(e){return window.__sw__.assetPath+"/bundles/payonepayment/administration/"+e},y={},p=function(t,n,a){let r=Promise.resolve();if(n&&n.length>0){let s=function(l){return Promise.all(l.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),d=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=s(n.map(l=>{if(l=S(l),l in y)return;y[l]=!0;const u=l.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const c=document.createElement("link");if(c.rel=u?"stylesheet":b,u||(c.as="script"),c.crossOrigin="",c.href=l,d&&c.setAttribute("nonce",d),document.head.appendChild(c),u)return new Promise((k,E)=>{c.addEventListener("load",k),c.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return r.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},v={"payone-payment":{title:"PAYONE",general:{mainMenuItemGeneral:"PAYONE",descriptionTextModule:"Einstellungen für PAYONE",headlines:{ratepayProfiles:"Profile",ratepayProfileConfigurations:"Profile Konfigurationen"},label:{shopId:"Shop-ID",currency:"Währung",error:"Status",invoiceCountry:"Rechnungsland",shippingCountry:"Lieferland",minBasket:"Min. Warenkorb",maxBasket:"Max. Warenkorb",reloadConfigInfo:"Profile-Konfigurationen werden beim Speichern der Plugin-Einstellungen automatisch aktualisiert."},actions:{addShop:"Shop-ID hinzufügen"},errors:{existingShopId:"Die eingegebene ShopId existiert bereits.",emptyInputs:"Bitte füllen Sie alle Eingabefelder aus."}},settingsForm:{save:"Speichern",test:"API-Zugangsdaten testen",titleSuccess:"Erfolg",titleError:"Fehler",labelShowSpecificStatusMapping:"Statusmappingkonfiguration einblenden",helpTextShowSpecificStatusMapping:"Sie können für jede Zahlungsart ein spezifisches Statusmapping konfigurieren. Existiert eine solche Konfiguration nicht, wird auf die allgemeine Konfiguration zurückgegriffen.",messageSaveError:{ratepayProfilesUpdateFailed:"Mindestens ein Ratepay Profil konnte nicht erfolgreich gespeichert werden, bitte prüfen Sie Ihre Konfiguration."},messageTestSuccess:"Die API-Zugangsdaten wurden erfolgreich validiert.",messageTestNoTestedPayments:"Bei der Prüfung wurden keine Zahlarten getestet, weil keine der PAYONE Zahlarten aktiviert ist. Bitte aktivieren Sie mindestens eine PAYONE Zahlart unter Einstellungen --> Shop --> Zahlungsarten.",messageTestError:{general:"Die API-Zugangsdaten konnten nicht validiert werden.",creditCard:"Die API-Zugangsdaten für PAYONE Kreditkarte sind nicht korrekt.",prepayment:"Die API-Zugangsdaten für PAYONE Vorkasse sind nicht korrekt.",debit:"Die API-Zugangsdaten für PAYONE Lastschrift sind nicht korrekt.",paypalExpress:"Die API-Zugangsdaten für PAYONE PayPal Express sind nicht korrekt.",paypal:"Die API-Zugangsdaten für PAYONE PayPal sind nicht korrekt.",paypalV2Express:"Die API-Zugangsdaten für PAYONE PayPal Express v2 sind nicht korrekt.",paypalV2:"Die API-Zugangsdaten für PAYONE PayPal v2 sind nicht korrekt.",payolutionInstallment:"Die API-Zugangsdaten für PAYONE Unzer Ratenkauf sind nicht korrekt.",payolutionInvoicing:"Die API-Zugangsdaten für PAYONE Unzer Rechnungskauf sind nicht korrekt.",payolutionDebit:"Die API-Zugangsdaten für PAYONE Unzer Lastschrift sind nicht korrekt.",sofort:"Die API-Zugangsdaten für PAYONE Sofort Überweisung sind nicht korrekt.",eps:"Die API-Zugangsdaten für PAYONE eps Überweisung sind nicht korrekt.",iDeal:"Die API-Zugangsdaten für PAYONE iDEAL sind nicht korrekt.",secureInvoice:"Die API-Zugangsdaten für PAYONE Gesicherter Rechnungskauf sind nicht korrekt.",openInvoice:"Die API-Zugangsdaten für PAYONE Rechnungskauf sind nicht korrekt.",paydirekt:"Die API-Zugangsdaten für PAYONE paydirekt sind nicht korrekt.",trustly:"Die API-Zugangsdaten für PAYONE Trustly sind nicht korrekt.",applePay:"Die API-Zugangsdaten für PAYONE Apple Pay sind nicht korrekt.",bancontact:"Die API-Zugangsdaten für PAYONE Bancontact sind nicht korrekt.",ratepayDebit:"Die API-Zugangsdaten für PAYONE Ratepay Lastschrift sind nicht korrekt.",ratepayInstallment:"Die API-Zugangsdaten für PAYONE Ratepay Ratenzahlung sind nicht korrekt.",ratepayInvoicing:"Die API-Zugangsdaten für PAYONE Ratepay Rechnungskauf sind nicht korrekt.",klarnaInvoice:"Die API-Zugangsdaten für PAYONE Klarna Rechnung sind nicht korrekt.",klarnaDirectDebit:"Die API-Zugangsdaten für PAYONE Klarna Sofort bezahlen sind nicht korrekt.",klarnaInstallment:"Die API-Zugangsdaten für PAYONE Klarna Ratenkauf sind nicht korrekt.",przelewy24:"Die API-Zugangsdaten für PAYONE Przelewy24 sind nicht korrekt.",weChatPay:"Die API-Zugangsdaten für PAYONE WeChat Pay sind nicht korrekt.",postfinanceCard:"Die API-Zugangsdaten für PAYONE Postfinance (Card) sind nicht korrekt.",postfinanceWallet:"Die API-Zugangsdaten für PAYONE Postfinance (Wallet) sind nicht korrekt.",alipay:"Die API-Zugangsdaten für PAYONE Alipay sind nicht korrekt.",securedInvoice:"Die API-Zugangsdaten für PAYONE Gesicherter Rechnungskauf sind nicht korrekt.",securedInstallment:"Die API-Zugangsdaten für PAYONE Gesicherter Ratenkauf sind nicht korrekt.",securedDirectDebit:"Die API-Zugangsdaten für PAYONE Gesicherte Lastschrift sind nicht korrekt.",amazonPay:"Die API-Zugangsdaten für PAYONE Amazon Pay sind nicht korrekt.",amazonPayExpress:"Die API-Zugangsdaten für PAYONE Amazon Pay sind nicht korrekt."}},supportModal:{menuButton:"Support",title:"Wie können wir Ihnen helfen?",documentation:{description:"Lesen Sie unsere Online-Dokumentation",button:"Dokumentation"},support:{description:"Kontaktieren Sie unseren Support",button:"Technischer Support"},repository:{description:"Melden Sie Fehler und Verbesserungen",button:"GitHub"},testdata:{description:"Erstellen Sie hier Ihre persönlichen Testdaten",button:"Testdaten"}},applePay:{cert:{notification:`Für die Nutzung von ApplePay ist ein Zertifikat/Key-Paar zur Authentifizierung des Merchants erforderlich. Die Anlage eines solchen Zertifikats wird hier beschrieben:<br />
                            <a href="https://docs.payone.com/display/public/PLATFORM/Special+Remarks+-+Apple+Pay#SpecialRemarks-ApplePay-Onboarding" target="_blank">https://docs.payone.com/display/public/PLATFORM/Special+Remarks+-+Apple+Pay#SpecialRemarks-ApplePay-Onboarding</a><br/><br/>

                            Erstellen Sie im Anschluss unter Verwendung des folgenden Befehls eine PEM-Datei des Zertifikates:<br />
                            <pre>openssl x509 -inform der -in merchant_id.cer -out merchant_id.pem</pre><br/>
                            Hinterlegen Sie das Zertifikat <b>(merchant_id.pem)</b> und den Key <b>(merchant_id.key)</b> in folgendem Verzeichnis:<br/>
                            <pre>%shopwareRoot%/config/apple-pay-cert</pre>`}},transitionActionNames:{cancel:"Stornieren",complete:"Abschließen",pay:"Bezahlen",pay_partially:"Teilweise bezahlen",process:"Durchführen",refund:"Rückerstatten",refund_partially:"Teilweise rückerstatten",remind:"Erinnern",reopen:"Wieder öffnen",retour:"Retoure",retour_partially:"Teilweise retounieren",ship:"Versenden",ship_partially:"Teilweise versenden"},messageNotBlank:"Dieser Wert darf nicht leer sein.",error:{transaction:{notFound:"Es wurde keine passende Transaktion gefundend",orderNotFound:"Es wurde keine passende Bestellung gefundend"}}},"sw-privileges":{additional_permissions:{Payone:{label:"PAYONE",payone_order_management:"Transaktionsmanagement",payone_configuration:"Konfiguration",payone_webhook_forward:"Webhook Weiterleitung Verwaltung",payone_webhook_resend:"Webhook Weiterleitung erneut senden"}}}},I={"payone-payment":{title:"PAYONE",general:{mainMenuItemGeneral:"PAYONE",descriptionTextModule:"Settings for PAYONE",headlines:{ratepayProfiles:"Profile",ratepayProfileConfigurations:"Profile configuration"},label:{shopId:"Shop-ID",currency:"Currency",error:"Status",invoiceCountry:"Invoice Country",shippingCountry:"Shipping Country",minBasket:"Min. Basket",maxBasket:"Max. Basket",reloadConfigInfo:"Profile-Configuration got automatically updated during saving the plugin configuration"},actions:{addShop:"Add Shop-ID"},errors:{existingShopId:"The entered shop-id already exists.",emptyInputs:"Please fill all input fields."}},settingsForm:{save:"Save",test:"Test API Credentials",titleSuccess:"Success",titleError:"Error",labelShowSpecificStatusMapping:"Display state mapping configuration",helpTextShowSpecificStatusMapping:"If not configured the general status mapping config will be applied.",messageSaveError:{ratepayProfilesUpdateFailed:"At least one Ratepay profile could not be saved successfully, please check your configuration."},messageTestSuccess:"The API credentials were verified successfully.",messageTestNoTestedPayments:"No payment methods were tested during the check because none of the PAYONE payment methods are activated. Please activate at least one PAYONE payment method under Settings --> Shop --> Payment.",messageTestError:{general:"The API credentials could not be verified successfully.",creditCard:"The API credentials for PAYONE Credit Card are not valid.",prepayment:"The API credentials for PAYONE Prepayment are not valid.",debit:"The API credentials for PAYONE Direct Debit are not valid.",paypalExpress:"The API credentials for PAYONE PayPal Express are not valid.",paypal:"The API credentials for PAYONE PayPal are not valid.",paypalV2Express:"The API credentials for PAYONE PayPal Express v2 are not valid.",paypalV2:"The API credentials for PAYONE PayPal v2 are not valid.",payolutionInstallment:"The API credentials for PAYONE Unzer Ratenkauf are not valid.",payolutionInvoicing:"The API credentials for PAYONE Unzer Rechnungskauf are not valid.",payolutionDebit:"The API credentials for PAYONE Unzer Lastschrift are not valid.",sofort:"The API credentials for PAYONE Sofort are not valid.",eps:"The API credentials for PAYONE eps are not valid.",iDeal:"The API credentials for PAYONE iDEAL are not valid.",secureInvoice:"The API credentials for PAYONE Secure Invoice are not valid.",openInvoice:"The API credentials for PAYONE Invoice are not valid.",paydirekt:"The API credentials for PAYONE paydirekt are not valid.",trustly:"The API credentials for PAYONE Trustly are not valid.",applePay:"The API credentials for PAYONE Apple Pay are not valid.",bancontact:"The API credentials for PAYONE Bancontact payment are not valid.",ratepayDebit:"The API credentials for PAYONE Ratepay Direct Debit payment are not valid.",ratepayInstallment:"The API credentials for PAYONE Ratepay Installments payment are not valid.",ratepayInvoicing:"The API credentials for PAYONE Ratepay Open Invoice payment are not valid.",klarnaInvoice:"The API credentials for PAYONE Klarna Rechnung are not valid.",klarnaDirectDebit:"The API credentials for PAYONE Klarna Sofort bezahlen are not valid.",klarnaInstallment:"The API credentials for PAYONE Klarna Ratenkauf are not valid.",przelewy24:"The API credentials for PAYONE Przelewy24 are not valid.",weChatPay:"The API credentials for PAYONE WeChat Pay are not valid.",postfinanceCard:"The API credentials for PAYONE Postfinance (Card) are not valid.",postfinanceWallet:"The API credentials for PAYONE Postfinance (Wallet) are not valid.",alipay:"The API credentials for PAYONE Alipay are not valid.",securedInvoice:"The API credentials for PAYONE Secured Invoice are not valid.",securedInstallment:"The API credentials for PAYONE Secured Installment are not valid.",securedDirectDebit:"The API credentials for PAYONE Secured Direct Debit are not valid.",amazonPay:"The API credentials for PAYONE Amazon pay are not valid.",amazonPayExpress:"The API credentials for PAYONE Amazon pay are not valid."}},supportModal:{menuButton:"Support",title:"How Can We Help You?",documentation:{description:"Read our online manual",button:"Online Manual"},support:{description:"Contact our technical support",button:"Tech Support"},repository:{description:"Report errors on GitHub",button:"GitHub"},testdata:{description:"Create your personal test data here",button:"Test Data"}},applePay:{cert:{notification:`The ApplePay merchant authentication requires a certificate/key-pair. Further information:<br />
                            <a href="https://docs.payone.com/display/public/PLATFORM/Special+Remarks+-+Apple+Pay#SpecialRemarks-ApplePay-Onboarding" target="_blank">https://docs.payone.com/display/public/PLATFORM/Special+Remarks+-+Apple+Pay#SpecialRemarks-ApplePay-Onboarding</a><br/><br/>

                            Create a pem-File afterwards by using the following command:<br />
                            <pre>openssl x509 -inform der -in merchant_id.cer -out merchant_id.pem</pre><br/>
                            Copy certificate <b>(merchant_id.pem)</b> and key <b>(merchant_id.key)</b> file into the following folder:<br/>
                            <pre>%shopwareRoot%/config/apple-pay-cert</pre>`}},transitionActionNames:{cancel:"Cancel",complete:"Complete",pay:"Pay",pay_partially:"Pay partially",process:"Process",refund:"Refund",refund_partially:"Refund partially",remind:"Remind",reopen:"Reopen",retour:"Retour",retour_partially:"Retour partially",ship:"Ship",ship_partially:"Ship partially"},messageNotBlank:"This field must not be empty.",error:{transaction:{notFound:"No matching transaction could be found",orderNotFound:"No matching order could be found"}}},"sw-privileges":{additional_permissions:{Payone:{label:"PAYONE",payone_order_management:"Transaction management",payone_configuration:"Configuration",payone_webhook_forward:"Manage webhook forwards",payone_webhook_resend:"Allow Webhook forward resend"}}}},{Filter:m}=Shopware;m.register("payone_currency",(e,t,n)=>e===null?"-":(e/=100,m.getByName("currency")(e,t,n)));const{Component:w,Utils:P}=Shopware;w.extend("payone-payment-settings","sw-system-config",{inject:["PayonePaymentSettingsService"],methods:{_getShowPaymentStatusFieldsFieldName(e){return`PayonePayment.settings.${e}_show_status_mapping`},_getConfigBucket(){const e=this.actualConfigData||{},t=this.currentSalesChannelId===null||this.currentSalesChannelId===void 0?"null":this.currentSalesChannelId;return e[t]||e.null||null},_findCardByElement(e){return this.config.find(t=>Array.isArray(t.elements)&&t.elements.includes(e))},async readConfig(){this.stateMaschineOptions=await this.PayonePaymentSettingsService.getStateMachineTransitionActions().then(e=>e.data.map(t=>{let n=`payone-payment.transitionActionNames.${t.label}`,a=this.$t(n);return a===n&&(a=t.label),{id:t.value,value:t.value,name:a,label:a}})),await this.$super("readConfig"),this.config.forEach(e=>{const t=e.name.match(/^payment_(.*)$/),n=t?t[1]:null;n&&(this.addApiConfigurationFieldsToPaymentSettingCard(e,n),this.addPaymentStatusFieldsToPaymentSettingCard(e,n)),e.name==="status_mapping"&&Array.isArray(e.elements)&&e.elements.forEach(a=>{a.name.toLowerCase().includes("paymentstatus")&&(a.config=a.config||{},a.config.options=this.stateMaschineOptions)})}),this.config.forEach(e=>{(e.name.startsWith("payment_")||e.name==="status_mapping")&&(e.showFields=!1,e.setShowFields=t=>{e.showFields=t,this.updateCardVisibility(e)},this.updateCardVisibility(e))})},updateCardVisibility(e){if(!e||!Array.isArray(e.elements))return;const t=this._getConfigBucket(),n=this._getShowPaymentStatusFieldsFieldName(e.name),a=t?!!t[n]:!1,r=e.name==="status_mapping";e.elements.forEach(i=>{if(!e.showFields){i.hidden=!0;return}r?i.hidden=!1:i.__payoneIsStatus?i.hidden=!a:i.hidden=!1})},addApiConfigurationFieldsToPaymentSettingCard(e,t){const n=["merchantId","accountId","portalId","portalKey"],a=this.config.find(i=>i.name==="basic_configuration");if(!a||!Array.isArray(a.elements))return;const r=[];a.elements.forEach(i=>{const s=i.name.match(/\.([^.]+)$/),o=s?s[1]:null;if(!o||!n.includes(o))return;const d=P.object.cloneDeep(i);d.name=i.name.replace("."+o,"."+t+(o[0].toUpperCase()+o.slice(1))),d.config=d.config||{},d.config.helpText={"en-GB":"The basic configuration value is used, if nothing is entered here.","de-DE":"Es wird der Wert aus der Grundeinstellung verwendet, wenn hier kein Wert eingetragen ist."},d.hidden=!0,r.push(d)}),r.length&&e.elements.splice(0,0,...r)},addPaymentStatusFieldsToPaymentSettingCard(e,t){e.elements.push({type:"bool",config:{componentName:"mt-switch",label:{"en-GB":"Display state mapping configuration","de-DE":"Statusmappingkonfiguration einblenden"},helpText:{"en-GB":"If not configured the general status mapping config will be applied.","de-DE":"Sie können für jede Zahlungsart ein spezifisches Statusmapping konfigurieren. Existiert eine solche Konfiguration nicht, wird auf die allgemeine Konfiguration zurückgegriffen."}},name:this._getShowPaymentStatusFieldsFieldName(e.name),hidden:!0});const n=this.config.find(r=>r.name==="status_mapping");if(!n)return;(n.elements||[]).forEach(r=>{const i=P.object.cloneDeep(r);i.name=r.name.replace(".paymentStatus",`.${t}PaymentStatus`),i.__payoneIsStatus=!0,i.hidden=!0,this.stateMaschineOptions&&(i.config=i.config||{},i.config.options=this.stateMaschineOptions),e.elements.push(i)})},getElementBind(e,t){const n=this.$super("getElementBind",e,t);if(e.name.toLowerCase().includes("paymentstatus")){n.config=n.config||{},n.config.options=this.stateMaschineOptions;const r=this._getConfigBucket();r&&r[e.name]!==void 0&&(n.value=r[e.name],n.modelValue=r[e.name])}if(e.name.endsWith("_show_status_mapping")){const r=e.name,s=!!(this._getConfigBucket()||{})[r];n.modelValue=s,n.value=s;const o=n.onChange,d=l=>{const u=l===!0||l==="true"||l===1||l==="1",h=this._getConfigBucket();h&&(h[r]=u),typeof o=="function"&&o(u,r);const c=this._findCardByElement(e);c&&this.updateCardVisibility(c)};n["onUpdate:modelValue"]=d,n.onChange=d}if(e.config&&e.config.componentName==="payone-ratepay-profiles"){const r=this._getConfigBucket();r&&r[e.name]&&(n.value=r[e.name]),n["onUpdate:value"]=i=>{if(i instanceof Event||i&&i.target&&i.type)return;const s=this._getConfigBucket();s&&(s[e.name]=i)}}return n},getInheritWrapperBind(e){const t=this.$super("getInheritWrapperBind",e);return e.hidden&&(t.style={display:"none"}),t},emitConfig(){this.config.forEach(e=>{(e.name.startsWith("payment_")||e.name==="status_mapping")&&this.updateCardVisibility(e)}),this.$super("emitConfig")}}});Shopware.Component.register("payone-payment-plugin-icon",()=>p(()=>import("./index-BTrSYjkY.js"),__vite__mapDeps([0,1])));Shopware.Component.register("payone-ratepay-profile-configurations",()=>p(()=>import("./index-C342mQzj.js"),__vite__mapDeps([2,3])));Shopware.Component.register("payone-ratepay-profiles",()=>p(()=>import("./index-DvIOCrYt.js"),__vite__mapDeps([4,5])));Shopware.Component.register("payone-settings",()=>p(()=>import("./index-BLVpOUYz.js"),__vite__mapDeps([6,7])));Shopware.Module.register("payone-payment",{type:"plugin",name:"PayonePayment",title:"payone-payment.general.mainMenuItemGeneral",description:"payone-payment.general.descriptionTextModule",version:"1.0.0",targetVersion:"1.0.0",icon:"regular-cog",snippets:{"de-DE":v,"en-GB":I},routeMiddleware(e,t){e(t)},routes:{index:{component:"payone-settings",path:"index",meta:{parentPath:"sw.settings.index",privilege:"payone:configuration"}}},settingsItem:[{name:"payone-payment",to:"payone.payment.index",label:"payone-payment.general.mainMenuItemGeneral",group:"plugins",iconComponent:"payone-payment-plugin-icon",backgroundEnabled:!1,privilege:"payone:configuration"}]});const O={notificationTarget:{module:{title:"PAYONE Webhook-Weiterleitungen",buttonTitle:"Webhook Weiterleitungen"},list:{title:"Webhook Weiterleitungen",empty:"Keine Einträge",buttonCreate:"Weiterleitungsziel anlegen"},detail:{headline:"Webhook-Weiterleitung",placeholder:{url:"Url",username:"Benutzer",password:"Passwort"},label:{url:"Url",isBasicAuth:"Basic Auth",txactions:"txactions",buttonSave:"Speichern",buttonCancel:"Abbrechen",username:"Benutzer",password:"Passwort"}},columns:{url:"Url",isBasicAuth:"Basic Auth",txactions:"txactions"},actions:{requeue:"Erneut senden"},messages:{success:"Die Weiterleitung wurde erfolgreich in Auftrag gegeben.",successfullySaved:"Das Weiterleitungsziel wurde erfolgreich gespeichert."}}},C={payonePayment:O},T={notificationTarget:{module:{title:"PAYONE webhook forward",buttonTitle:"Webhook forwards"},list:{title:"Webhook forward",empty:"No entries",buttonCreate:"Add new forward target"},detail:{headline:"Webhook forward",placeholder:{url:"Url",username:"Username",password:"Password"},label:{url:"Url",isBasicAuth:"Basic Auth",txactions:"txactions",buttonSave:"Save",buttonCancel:"Cancel",username:"Username",password:"Password"}},columns:{url:"Url",isBasicAuth:"Basic Auth",txactions:"txactions"},actions:{requeue:"Requeue"},messages:{success:"The notification forward has been successfully queued.",successfullySaved:"The forwarding target has been saved successfully."}}},N={payonePayment:T};Shopware.Component.register("payone-notification-target-detail",p(()=>import("./index-DRJqZZu2.js"),[]));Shopware.Component.register("payone-notification-target-list",p(()=>import("./index-BRtyPmhG.js"),[]));Shopware.Module.register("payone-notification-target",{type:"plugin",name:"PayoneNotificationTarget",title:"payonePayment.notificationTarget.module.title",description:"payonePayment.notificationTarget.module.title",icon:"regular-cog",snippets:{"de-DE":C,"en-GB":N},routes:{list:{component:"payone-notification-target-list",path:"list",meta:{privilege:"payone_payment_notification_target:read"}},detail:{component:"payone-notification-target-detail",path:"detail/:id",props:{default(e){return{notificationTargetId:e.params.id}}},meta:{parentPath:"payone.notification.target.list",privilege:"payone_payment_notification_target:read"}},create:{component:"payone-notification-target-detail",path:"create",meta:{parentPath:"payone.notification.target.list",privilege:"payone_payment_notification_target:create"}}}});Shopware.Component.register("payone-capture-button",()=>p(()=>import("./index-CPA72YU3.js"),__vite__mapDeps([8,9])));Shopware.Component.register("payone-order-items",()=>p(()=>import("./index-BnzQa17P.js"),__vite__mapDeps([10,11])));Shopware.Component.register("payone-payment-management",()=>p(()=>import("./index-1x2Zhiwi.js"),__vite__mapDeps([12,13])));Shopware.Component.register("payone-payment-order-action-log",()=>p(()=>import("./index-Be5-UySV.js"),[]));Shopware.Component.register("payone-payment-webhook-log",()=>p(()=>import("./index-CED0g-AY.js"),[]));Shopware.Component.register("payone-refund-button",()=>p(()=>import("./index-DFvC7jUc.js"),__vite__mapDeps([14,15])));Shopware.Component.register("sw-order-detail-payone",()=>p(()=>import("./index-RX_vWIDt.js"),[]));Shopware.Component.override("sw-order-detail",()=>p(()=>import("./index-z3jAkgAL.js"),[]));Shopware.Module.register("sw-order-detail-tab-payone",{routeMiddleware(e,t){t.name==="sw.order.detail"&&t.children.push({name:"sw.order.detail.payone",path:"payone",component:"sw-order-detail-payone",meta:{parentPath:"sw.order.detail",meta:{parentPath:"sw.order.index",privilege:"order.viewer"}}}),e(t)}});const{Application:A}=Shopware,g=Shopware.Classes.ApiService;class D extends g{constructor(t,n,a="payone"){super(t,n,a)}requeueNotificationForward(t){const n=`_action/${this.getApiBasePath()}/requeue-forward`;return this.httpClient.post(n,t,{headers:this.getBasicHeaders()}).then(a=>g.handleResponse(a))}capturePayment(t){const n=`_action/${this.getApiBasePath()}/capture-payment`;return this.httpClient.post(n,t,{headers:this.getBasicHeaders()}).then(a=>g.handleResponse(a))}refundPayment(t){const n=`_action/${this.getApiBasePath()}/refund-payment`;return this.httpClient.post(n,t,{headers:this.getBasicHeaders()}).then(a=>g.handleResponse(a))}}A.addServiceProvider("PayonePaymentService",e=>{const t=A.getContainer("init");return new D(t.httpClient,e.loginService)});const{Application:_}=Shopware,f=Shopware.Classes.ApiService;class Y extends f{constructor(t,n,a="payone_payment"){super(t,n,a)}validateApiCredentials(t){const n=this.getBasicHeaders();return this.httpClient.post(`_action/${this.getApiBasePath()}/validate-api-credentials`,{credentials:t},{headers:n}).then(a=>f.handleResponse(a))}reloadRatepayProfiles(t){const n=this.getBasicHeaders();return this.httpClient.post("/_action/payone/reload-ratepay-profiles",{salesChannelId:t},{headers:n}).then(a=>f.handleResponse(a))}getStateMachineTransitionActions(){const t=this.getBasicHeaders();return this.httpClient.get(`_action/${this.getApiBasePath()}/get-state-machine-transition-actions`,{headers:t}).then(n=>f.handleResponse(n))}hasApplePayCert(){const t=this.getBasicHeaders();return this.httpClient.get(`_action/${this.getApiBasePath()}/check-apple-pay-cert`,{headers:t}).catch(()=>!1).then(n=>!!n)}}_.addServiceProvider("PayonePaymentSettingsService",e=>{const t=_.getContainer("init");return new Y(t.httpClient,e.loginService)});try{Shopware.Service("privileges").addPrivilegeMappingEntry({category:"additional_permissions",parent:null,key:"Payone",roles:{payone_order_management:{privileges:["payone_order_management","payone_payment_order_transaction_data:read","payone_payment_order_transaction_data:update","payone_payment_order_action_log:read","payone_payment_order_action_log:create","payone_payment_webhook_log:read","payone_payment_notification_forward:read","payone_payment_notification_forward:create"],dependencies:[]},payone_configuration:{privileges:["system_config:read","system_config:create","system_config:update","system_config:delete","currency:read","sales_channel:read","payone:configuration"],dependencies:[]},payone_webhook_forward:{privileges:["payone_payment_notification_target:read","payone_payment_notification_target:create","payone_payment_notification_target:update","payone_payment_notification_target:delete","payone:manage_webhook_forwards"],dependencies:[]},payone_webhook_resend:{privileges:["payone_webhook_resend"],dependencies:[]}}})}catch{}
//# sourceMappingURL=payone-payment-c4qabnEj.js.map
