{% sw_extends '@Storefront/page/account/_page.html.twig' %}

{# @var page \PayonePayment\Storefront\Page\Card\AccountCardPage #}
{# @var card \PayonePayment\DataAbstractionLayer\Entity\Card\PayonePaymentCardEntity #}

{% block page_account_main_content %}
    <div class="account-payone-card">
        {% block page_payone_account_card_welcome %}
            <div class="account-welcome">
                {% block page_payone_account_card_card_headline %}
                    <h1>{{ "PayonePayment.cardPage.pageTitle" | trans }}</h1>
                {% endblock %}

                {% block page_payone_account_card_welcome_intro %}
                    <p>{{ "PayonePayment.cardPage.pageSubTitle" | trans }}</p>
                {% endblock %}
            </div>
        {% endblock %}

        <div class="card">
            {% if page.cards|length > 0 %}
                <table class="table">
                    <thead>
                        <tr>
                            <th scope="col">{{ "PayonePayment.cardPage.tableHeader" | trans }}</th>
                            <th scope="col">&nbsp;</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for card in page.cards %}
                            <tr>
                                <td>{{ card.truncatedCardPan }}</td>
                                <td>
                                    <a href="{{ path('frontend.account.payone.card.delete', {'truncatedCardPan': card.truncatedCardPan}) }}" title="{{ "PayonePayment.cardPage.deleteButton" | trans }}" class="btn btn-light">
                                        {{ "PayonePayment.cardPage.deleteButton" | trans }}
                                    </a>
                                </td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <p>{{ "PayonePayment.cardPage.noEntries" | trans }}</p>
            {% endif %}
        </div>
    </div>
{% endblock %}
